var Ke=Object.defineProperty,He=Object.defineProperties;var qe=Object.getOwnPropertyDescriptors;var ee=Object.getOwnPropertySymbols;var Te=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable;var ce=(t,e,s)=>e in t?Ke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,b=(t,e)=>{for(var s in e||(e={}))Te.call(e,s)&&ce(t,s,e[s]);if(ee)for(var s of ee(e))ve.call(e,s)&&ce(t,s,e[s]);return t},S=(t,e)=>He(t,qe(e));var X=(t,e)=>{var s={};for(var a in t)Te.call(t,a)&&e.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&ee)for(var a of ee(t))e.indexOf(a)<0&&ve.call(t,a)&&(s[a]=t[a]);return s};var W=(t,e,s)=>ce(t,typeof e!="symbol"?e+"":e,s);var g=(t,e,s)=>new Promise((a,i)=>{var n=c=>{try{p(s.next(c))}catch(d){i(d)}},l=c=>{try{p(s.throw(c))}catch(d){i(d)}},p=c=>c.done?a(c.value):Promise.resolve(c.value).then(n,l);p((s=s.apply(t,e)).next())});import{aL as Je,k as pe,x as Oe,aM as Qe,aN as Ze,aO as Ge,aP as et,aQ as tt,aR as st,A as Me,aS as at,aT as ot,aU as nt,u as it,aV as lt,aW as rt,aX as ct,aY as dt,aZ as ut,a_ as ft,a$ as pt,b0 as ht,d as xe,b1 as mt,b2 as bt}from"./bootstrap-eRMf25wG.js";import{j as gt,bI as yt,bu as Tt,bv as vt,a3 as O,ad as m,ae as y,af as v,ag as w,ak as xt,al as wt,a9 as o,R as De,aj as j,J as R,O as M,m as U,ao as Ct,ai as _,ab as he,b2 as B,b1 as E,V as ue,ap as fe,F as _t,ax as kt,aw as Y,W as Ie,a4 as Bt,av as Ot,ay as Mt,bJ as de,at as Dt,aB as Ae,q as Pe,am as K,an as we,bb as It,i as At,b as Ce}from"../jse/index-index-QIcGCnph.js";const Pt=Je("core-tabbar",{actions:{_bulkCloseByPaths(t){return g(this,null,function*(){this.tabs=this.tabs.filter(e=>!t.includes(f(e))),this.updateCacheTabs()})},_close(t){const{fullPath:e}=t;if(I(t))return;const s=this.tabs.findIndex(a=>a.fullPath===e);s!==-1&&this.tabs.splice(s,1)},_goToDefaultTab(t){return g(this,null,function*(){if(this.getTabs.length<=0)return;const e=this.getTabs[0];e&&(yield this._goToTab(e,t))})},_goToTab(t,e){return g(this,null,function*(){const{params:s,path:a,query:i}=t,n={params:s||{},path:a,query:i||{}};yield e.replace(n)})},addTab(t){var a,i;const e=St(t);if(!Et(e))return;const s=this.tabs.findIndex(n=>f(n)===f(t));if(s===-1){const n=(i=(a=t==null?void 0:t.meta)==null?void 0:a.maxNumOfOpenTab)!=null?i:-1;if(n>0&&this.tabs.filter(l=>l.name===t.name).length>=n){const l=this.tabs.findIndex(p=>p.name===t.name);l!==-1&&this.tabs.splice(l,1)}this.tabs.push(e)}else{const n=gt(this.tabs)[s],l=S(b(b({},n),e),{meta:b(b({},n==null?void 0:n.meta),e.meta)});if(n){const p=n.meta;Reflect.has(p,"affixTab")&&(l.meta.affixTab=p.affixTab),Reflect.has(p,"newTabTitle")&&(l.meta.newTabTitle=p.newTabTitle)}this.tabs.splice(s,1,l)}this.updateCacheTabs()},closeAllTabs(t){return g(this,null,function*(){const e=this.tabs.filter(s=>I(s));this.tabs=e.length>0?e:[...this.tabs].splice(0,1),yield this._goToDefaultTab(t),this.updateCacheTabs()})},closeLeftTabs(t){return g(this,null,function*(){const e=this.tabs.findIndex(i=>f(i)===f(t));if(e<1)return;const s=this.tabs.slice(0,e),a=[];for(const i of s)I(i)||a.push(f(i));yield this._bulkCloseByPaths(a)})},closeOtherTabs(t){return g(this,null,function*(){const e=this.tabs.map(a=>f(a)),s=[];for(const a of e)if(a!==t.fullPath){const i=this.tabs.find(n=>f(n)===a);if(!i)continue;I(i)||s.push(f(i))}yield this._bulkCloseByPaths(s)})},closeRightTabs(t){return g(this,null,function*(){const e=this.tabs.findIndex(s=>f(s)===f(t));if(e!==-1&&e<this.tabs.length-1){const s=this.tabs.slice(e+1),a=[];for(const i of s)I(i)||a.push(f(i));yield this._bulkCloseByPaths(a)}})},closeTab(t,e){return g(this,null,function*(){const{currentRoute:s}=e;if(f(s.value)!==f(t)){this._close(t),this.updateCacheTabs();return}const a=this.getTabs.findIndex(l=>f(l)===f(s.value)),i=this.getTabs[a-1],n=this.getTabs[a+1];n?(this._close(t),yield this._goToTab(n,e)):i?(this._close(t),yield this._goToTab(i,e)):console.error("Failed to close the tab; only one tab remains open.")})},closeTabByKey(t,e){return g(this,null,function*(){const s=decodeURIComponent(t),a=this.tabs.findIndex(n=>f(n)===s);if(a===-1)return;const i=this.tabs[a];i&&(yield this.closeTab(i,e))})},getTabByPath(t){return this.getTabs.find(e=>f(e)===t)},openTabInNewWindow(t){return g(this,null,function*(){yt(t.fullPath||t.path)})},pinTab(t){return g(this,null,function*(){var i;const e=this.tabs.findIndex(n=>f(n)===f(t));if(e!==-1){const n=this.tabs[e];t.meta.affixTab=!0,t.meta.title=(i=n==null?void 0:n.meta)==null?void 0:i.title,this.tabs.splice(e,1,t)}const a=this.tabs.filter(n=>I(n)).findIndex(n=>f(n)===f(t));yield this.sortTabs(e,a)})},refresh(t){return g(this,null,function*(){const{currentRoute:e}=t,{name:s}=e.value;this.excludeCachedTabs.add(s),this.renderRouteView=!1,Tt(),yield new Promise(a=>setTimeout(a,200)),this.excludeCachedTabs.delete(s),this.renderRouteView=!0,vt()})},resetTabTitle(t){return g(this,null,function*(){var s;if((s=t==null?void 0:t.meta)!=null&&s.newTabTitle)return;const e=this.tabs.find(a=>f(a)===f(t));e&&(e.meta.newTabTitle=void 0,yield this.updateCacheTabs())})},setAffixTabs(t){for(const e of t)e.meta.affixTab=!0,this.addTab($t(e))},setTabTitle(t,e){return g(this,null,function*(){const s=this.tabs.find(a=>f(a)===f(t));s&&(s.meta.newTabTitle=e,yield this.updateCacheTabs())})},setUpdateTime(){this.updateTime=Date.now()},sortTabs(t,e){return g(this,null,function*(){const s=this.tabs[t];s&&(this.tabs.splice(t,1),this.tabs.splice(e,0,s),this.dragEndIndex=this.dragEndIndex+1)})},toggleTabPin(t){return g(this,null,function*(){var s,a;yield((a=(s=t==null?void 0:t.meta)==null?void 0:s.affixTab)!=null?a:!1)?this.unpinTab(t):this.pinTab(t)})},unpinTab(t){return g(this,null,function*(){var i;const e=this.tabs.findIndex(n=>f(n)===f(t));if(e!==-1){const n=this.tabs[e];t.meta.affixTab=!1,t.meta.title=(i=n==null?void 0:n.meta)==null?void 0:i.title,this.tabs.splice(e,1,t)}const a=this.tabs.filter(n=>I(n)).length;yield this.sortTabs(e,a)})},updateCacheTabs(){return g(this,null,function*(){var e;const t=new Set;for(const s of this.tabs){if(!((e=s.meta)==null?void 0:e.keepAlive))continue;(s.matched||[]).forEach((n,l)=>{l>0&&t.add(n.name)});const i=s.name;t.add(i)}this.cachedTabs=t})}},getters:{affixTabs(){return this.tabs.filter(e=>I(e)).sort((e,s)=>{var n,l,p,c;const a=(l=(n=e.meta)==null?void 0:n.affixTabOrder)!=null?l:0,i=(c=(p=s.meta)==null?void 0:p.affixTabOrder)!=null?c:0;return a-i})},getCachedTabs(){return[...this.cachedTabs]},getExcludeCachedTabs(){return[...this.excludeCachedTabs]},getTabs(){const t=this.tabs.filter(e=>!I(e));return[...this.affixTabs,...t].filter(Boolean)}},persist:[{pick:["tabs"],storage:sessionStorage}],state:()=>({cachedTabs:new Set,dragEndIndex:0,excludeCachedTabs:new Set,renderRouteView:!0,tabs:[],updateTime:Date.now()})});function St(t){if(!t)return t;const i=t,{matched:e,meta:s}=i,a=X(i,["matched","meta"]);return S(b({},a),{matched:e?e.map(n=>({meta:n.meta,name:n.name,path:n.path})):void 0,meta:S(b({},s),{newTabTitle:s.newTabTitle})})}function I(t){var e,s;return(s=(e=t==null?void 0:t.meta)==null?void 0:e.affixTab)!=null?s:!1}function Et(t){var s;const e=(s=t==null?void 0:t.matched)!=null?s:[];return!t.meta.hideInTab&&e.every(a=>!a.meta.hideInTab)}function f(t){return decodeURIComponent(t.fullPath||t.path)}function $t(t){return{meta:t.meta,name:t.name,path:t.path}}const Lt=pe("ExpandIcon",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]]);const Rt=pe("ShrinkIcon",[["path",{d:"m15 15 6 6m-6-6v4.8m0-4.8h4.8",key:"17vawe"}],["path",{d:"M9 19.8V15m0 0H4.2M9 15l-6 6",key:"chjx8e"}],["path",{d:"M15 4.2V9m0 0h4.8M15 9l6-6",key:"lav6yq"}],["path",{d:"M9 4.2V9m0 0H4.2M9 9 3 3",key:"1pxi2q"}]]);const zt=pe("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Vt=O({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const i=Oe(t,e);return(n,l)=>(m(),y(o(Qe),xt(wt(o(i))),{default:v(()=>[w(n.$slots,"default")]),_:3},16))}}),Ft=["data-dismissable-modal"],Nt=O({__name:"DialogOverlay",setup(t){Ze();const e=De("DISMISSABLE_MODAL_ID");return(s,a)=>(m(),j("div",{"data-dismissable-modal":o(e),class:"bg-overlay inset-0"},null,8,Ft))}}),Xt=O({__name:"DialogContent",props:{appendTo:{default:"body"},class:{},closeClass:{},modal:{type:Boolean},open:{type:Boolean},showClose:{type:Boolean,default:!0},zIndex:{default:1e3},forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["close","closed","opened","escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{expose:e,emit:s}){const a=t,i=s,n=R(()=>{const $=a,{class:u,modal:h,open:C,showClose:D}=$;return X($,["class","modal","open","showClose"])});function l(){return a.appendTo==="body"||a.appendTo===document.body||!a.appendTo}const p=R(()=>l()?"fixed":"absolute"),c=Oe(n,i),d=M(null);function x(u){var h;u.target===((h=d.value)==null?void 0:h.$el)&&(a.open?i("opened"):i("closed"))}return e({getContentRef:()=>d.value}),(u,h)=>(m(),y(o(st),{to:u.appendTo},{default:v(()=>[U(Ge,{name:"fade"},{default:v(()=>[u.open&&u.modal?(m(),y(Nt,{key:0,style:Ct({zIndex:u.zIndex,position:p.value}),onClick:h[0]||(h[0]=()=>i("close"))},null,8,["style"])):_("",!0)]),_:1}),U(o(et),he({ref_key:"contentRef",ref:d,style:{zIndex:u.zIndex,position:p.value},onAnimationend:x},o(c),{class:o(B)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-top-[48%] w-full p-6 shadow-lg outline-none sm:rounded-xl",a.class)}),{default:v(()=>[w(u.$slots,"default"),u.showClose?(m(),y(o(tt),{key:0,class:E(o(B)("data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:bg-accent hover:text-accent-foreground text-foreground/80 flex-center absolute right-3 top-3 h-6 w-6 rounded-full px-1 text-lg opacity-70 transition-opacity hover:opacity-100 focus:outline-none disabled:pointer-events-none",a.closeClass)),onClick:h[1]||(h[1]=()=>i("close"))},{default:v(()=>[U(o(zt),{class:"h-4 w-4"})]),_:1},8,["class"])):_("",!0)]),_:3},16,["style","class"])]),_:3},8,["to"]))}}),_e=O({__name:"DialogDescription",props:{class:{},asChild:{type:Boolean},as:{}},setup(t){const e=t,s=R(()=>{const l=e,{class:i}=l;return X(l,["class"])}),a=Me(s);return(i,n)=>(m(),y(o(at),he(o(a),{class:o(B)("text-muted-foreground text-sm",e.class)}),{default:v(()=>[w(i.$slots,"default")]),_:3},16,["class"]))}}),Yt=O({__name:"DialogFooter",props:{class:{}},setup(t){const e=t;return(s,a)=>(m(),j("div",{class:E(o(B)("flex flex-row flex-col-reverse justify-end gap-x-2",e.class))},[w(s.$slots,"default")],2))}}),jt=O({__name:"DialogHeader",props:{class:{}},setup(t){const e=t;return(s,a)=>(m(),j("div",{class:E(o(B)("flex flex-col gap-y-1.5 text-center sm:text-left",e.class))},[w(s.$slots,"default")],2))}}),ke=O({__name:"DialogTitle",props:{class:{},asChild:{type:Boolean},as:{}},setup(t){const e=t,s=R(()=>{const l=e,{class:i}=l;return X(l,["class"])}),a=Me(s);return(i,n)=>(m(),y(o(ot),he(o(a),{class:o(B)("text-lg font-semibold leading-none tracking-tight",e.class)}),{default:v(()=>[w(i.$slots,"default")]),_:3},16,["class"]))}}),Ut={class:"dot relative inline-block size-9 text-3xl"},Wt={key:0,class:"mt-4 text-xs"},Kt=O({name:"VbenLoading",__name:"loading",props:{class:{},minLoadingTime:{default:50},spinning:{type:Boolean},text:{default:""}},setup(t){const e=t,s=M(!1),a=M(!0),i=M();ue(()=>e.spinning,l=>{if(!l){s.value=!1,clearTimeout(i.value);return}i.value=setTimeout(()=>{s.value=!0,s.value&&(a.value=!0)},e.minLoadingTime)},{immediate:!0});function n(){s.value||(a.value=!1)}return(l,p)=>(m(),j("div",{class:E(o(B)("z-100 dark:bg-overlay bg-overlay-content pointer-events-none absolute left-0 top-0 flex size-full flex-col items-center justify-center transition-all duration-500",{"invisible opacity-0":!s.value},e.class)),onTransitionend:n},[fe("span",Ut,[(m(),j(_t,null,kt(4,c=>fe("i",{key:c,class:"bg-primary absolute block size-4 origin-[50%_50%] scale-75 rounded-full opacity-30"})),64))]),l.text?(m(),j("div",Wt,Y(l.text),1)):_("",!0)],34))}}),Ht=nt(Kt,[["__scopeId","data-v-a3d8beca"]]);function ss(){const t=it(),e=Pt();function s(){return g(this,null,function*(){yield e.refresh(t)})}return{refresh:s}}function qt(t,e,s){const a=Ie({offsetX:0,offsetY:0}),i=M(!1),n=d=>{const x=d.clientX,u=d.clientY;if(!t.value)return;const h=t.value.getBoundingClientRect(),{offsetX:C,offsetY:D}=a,A=h.left,$=h.top,te=h.width,H=h.height,q=document.documentElement,se=q.clientWidth,ae=q.clientHeight,oe=-A+C,ne=-$+D,z=se-A-te+C,ie=ae-$-H+D,J=V=>{let F=C+V.clientX-x,P=D+V.clientY-u;F=Math.min(Math.max(F,oe),z),P=Math.min(Math.max(P,ne),ie),a.offsetX=F,a.offsetY=P,t.value&&(t.value.style.transform=`translate(${F}px, ${P}px)`,i.value=!0)},Q=()=>{i.value=!1,document.removeEventListener("mousemove",J),document.removeEventListener("mouseup",Q)};document.addEventListener("mousemove",J),document.addEventListener("mouseup",Q)},l=()=>{const d=de(e);d&&t.value&&d.addEventListener("mousedown",n)},p=()=>{const d=de(e);d&&t.value&&d.removeEventListener("mousedown",n)},c=()=>{a.offsetX=0,a.offsetY=0;const d=de(t);d&&(d.style.transform="none")};return Bt(()=>{Ot(()=>{s.value?l():p()})}),Mt(()=>{p()}),{dragging:i,resetPosition:c,transform:a}}const Jt=O({__name:"modal",props:{modalApi:{default:void 0},appendToMain:{type:Boolean,default:!1},bordered:{type:Boolean},cancelText:{},centered:{type:Boolean},class:{},closable:{type:Boolean},closeOnClickModal:{type:Boolean},closeOnPressEscape:{type:Boolean},confirmDisabled:{type:Boolean},confirmLoading:{type:Boolean},confirmText:{},contentClass:{},description:{},draggable:{type:Boolean},footer:{type:Boolean},footerClass:{},fullscreen:{type:Boolean},fullscreenButton:{type:Boolean},header:{type:Boolean},headerClass:{},loading:{type:Boolean},modal:{type:Boolean},openAutoFocus:{type:Boolean},showCancelButton:{type:Boolean},showConfirmButton:{type:Boolean},title:{},titleTooltip:{},zIndex:{}},setup(t){var G,ye;const e=t,s=lt.getComponents(),a=M(),i=M(),n=M(),l=M(),p=M(),c=Dt();Ae("DISMISSABLE_MODAL_ID",c);const{$t:d}=rt(),{isMobile:x}=ct(),u=(ye=(G=e.modalApi)==null?void 0:G.useStore)==null?void 0:ye.call(G),{appendToMain:h,bordered:C,cancelText:D,centered:A,class:$,closable:te,closeOnClickModal:H,closeOnPressEscape:q,confirmDisabled:se,confirmLoading:ae,confirmText:oe,contentClass:ne,description:z,draggable:ie,footer:J,footerClass:Q,fullscreen:V,fullscreenButton:F,header:P,headerClass:Se,loading:le,modal:Ee,openAutoFocus:$e,showCancelButton:Le,showConfirmButton:Re,title:Z,titleTooltip:me,zIndex:ze}=dt(e,u),re=R(()=>V.value&&P.value||x.value),be=R(()=>ie.value&&!re.value&&P.value),{dragging:Ve,transform:Fe}=qt(n,l,be);ue(()=>{var r;return(r=u==null?void 0:u.value)==null?void 0:r.isOpen},r=>g(this,null,function*(){if(r){if(yield Pe(),!a.value)return;const T=a.value.getContentRef();n.value=T.$el;const{offsetX:N,offsetY:L}=Fe;n.value.style.transform=`translate(${N}px, ${L}px)`}})),ue(()=>le.value,r=>{r&&i.value&&i.value.scrollTo({top:0})});function Ne(){var r;(r=e.modalApi)==null||r.setState(T=>S(b({},T),{fullscreen:!V.value}))}function Xe(r){H.value||(r.preventDefault(),r.stopPropagation())}function Ye(r){q.value||r.preventDefault()}function je(r){$e.value||r==null||r.preventDefault()}function Ue(r){const T=r.target,N=T==null?void 0:T.dataset.dismissableModal;(!H.value||N!==c)&&(r.preventDefault(),r.stopPropagation())}function ge(r){r.preventDefault(),r.stopPropagation()}const We=R(()=>h.value?`#${ut}`:void 0);return(r,T)=>{var N;return m(),y(o(Vt),{modal:!1,open:(N=o(u))==null?void 0:N.isOpen,"onUpdate:open":T[4]||(T[4]=()=>{var L;return(L=r.modalApi)==null?void 0:L.close()})},{default:v(()=>{var L;return[U(o(Xt),{ref_key:"contentRef",ref:a,"append-to":We.value,class:E(o(B)("left-0 right-0 top-[10vh] mx-auto flex max-h-[80%] w-[520px] flex-col p-0 sm:rounded-[var(--radius)]",o($),{"border-border border":o(C),"shadow-3xl":!o(C),"left-0 top-0 size-full max-h-full !translate-x-0 !translate-y-0":re.value,"top-1/2 !-translate-y-1/2":o(A)&&!re.value,"duration-300":!o(Ve)})),modal:o(Ee),open:(L=o(u))==null?void 0:L.isOpen,"show-close":o(te),"z-index":o(ze),"close-class":"top-3",onCloseAutoFocus:ge,onClosed:T[2]||(T[2]=()=>{var k;return(k=r.modalApi)==null?void 0:k.onClosed()}),onEscapeKeyDown:Ye,onFocusOutside:ge,onInteractOutside:Xe,onOpenAutoFocus:je,onOpened:T[3]||(T[3]=()=>{var k;return(k=r.modalApi)==null?void 0:k.onOpened()}),onPointerDownOutside:Ue},{default:v(()=>[U(o(jt),{ref_key:"headerRef",ref:l,class:E(o(B)("px-5 py-4",{"border-b":o(C),hidden:!o(P),"cursor-move select-none":be.value},o(Se)))},{default:v(()=>[o(Z)?(m(),y(o(ke),{key:0,class:"text-left"},{default:v(()=>[w(r.$slots,"title",{},()=>[K(Y(o(Z))+" ",1),o(me)?w(r.$slots,"titleTooltip",{key:0},()=>[U(o(ft),{"trigger-class":"pb-1"},{default:v(()=>[K(Y(o(me)),1)]),_:1})]):_("",!0)])]),_:3})):_("",!0),o(z)?(m(),y(o(_e),{key:1},{default:v(()=>[w(r.$slots,"description",{},()=>[K(Y(o(z)),1)])]),_:3})):_("",!0),!o(Z)||!o(z)?(m(),y(o(pt),{key:2},{default:v(()=>[o(Z)?_("",!0):(m(),y(o(ke),{key:0})),o(z)?_("",!0):(m(),y(o(_e),{key:1}))]),_:1})):_("",!0)]),_:3},8,["class"]),fe("div",{ref_key:"wrapperRef",ref:i,class:E(o(B)("relative min-h-40 flex-1 overflow-y-auto p-3",o(ne),{"pointer-events-none overflow-hidden":o(le)}))},[o(le)?(m(),y(o(Ht),{key:0,class:"size-full h-auto min-h-full",spinning:""})):_("",!0),w(r.$slots,"default")],2),o(F)?(m(),y(o(ht),{key:0,class:"hover:bg-accent hover:text-accent-foreground text-foreground/80 flex-center absolute right-10 top-3 hidden size-6 rounded-full px-1 text-lg opacity-70 transition-opacity hover:opacity-100 focus:outline-none disabled:pointer-events-none sm:block",onClick:Ne},{default:v(()=>[o(V)?(m(),y(o(Rt),{key:0,class:"size-3.5"})):(m(),y(o(Lt),{key:1,class:"size-3.5"}))]),_:1})):_("",!0),o(J)?(m(),y(o(Yt),{key:1,ref_key:"footerRef",ref:p,class:E(o(B)("flex-row items-center justify-end p-2",{"border-t":o(C)},o(Q)))},{default:v(()=>[w(r.$slots,"prepend-footer"),w(r.$slots,"footer",{},()=>[o(Le)?(m(),y(we(o(s).DefaultButton||o(xe)),{key:0,variant:"ghost",onClick:T[0]||(T[0]=()=>{var k;return(k=r.modalApi)==null?void 0:k.onCancel()})},{default:v(()=>[w(r.$slots,"cancelText",{},()=>[K(Y(o(D)||o(d)("cancel")),1)])]),_:3})):_("",!0),o(Re)?(m(),y(we(o(s).PrimaryButton||o(xe)),{key:1,disabled:o(se),loading:o(ae),onClick:T[1]||(T[1]=()=>{var k;return(k=r.modalApi)==null?void 0:k.onConfirm()})},{default:v(()=>[w(r.$slots,"confirmText",{},()=>[K(Y(o(oe)||o(d)("confirm")),1)])]),_:3},8,["disabled","loading"])):_("",!0)]),w(r.$slots,"append-footer")]),_:3},8,["class"])):_("",!0)]),_:3},8,["append-to","class","modal","open","show-close","z-index"])]}),_:3},8,["open"])}}});class Qt{constructor(e={}){W(this,"api");W(this,"state");W(this,"sharedData",{payload:{}});W(this,"store");const u=e,{connectedComponent:s,onBeforeClose:a,onCancel:i,onClosed:n,onConfirm:l,onOpenChange:p,onOpened:c}=u,d=X(u,["connectedComponent","onBeforeClose","onCancel","onClosed","onConfirm","onOpenChange","onOpened"]),x={bordered:!0,centered:!1,class:"",closeOnClickModal:!0,closeOnPressEscape:!0,confirmDisabled:!1,confirmLoading:!1,contentClass:"",draggable:!1,footer:!0,footerClass:"",fullscreen:!1,fullscreenButton:!0,header:!0,headerClass:"",isOpen:!1,loading:!1,modal:!0,openAutoFocus:!1,showCancelButton:!0,showConfirmButton:!0,title:""};this.store=new mt(b(b({},x),d),{onUpdate:()=>{var C,D,A;const h=this.store.state;(h==null?void 0:h.isOpen)===((C=this.state)==null?void 0:C.isOpen)?this.state=h:(this.state=h,(A=(D=this.api).onOpenChange)==null||A.call(D,!!(h!=null&&h.isOpen)))}}),this.state=this.store.state,this.api={onBeforeClose:a,onCancel:i,onClosed:n,onConfirm:l,onOpenChange:p,onOpened:c},It(this)}batchStore(e){this.store.batch(e)}close(){var s,a,i;((i=(a=(s=this.api).onBeforeClose)==null?void 0:a.call(s))!=null?i:!0)&&this.store.setState(n=>S(b({},n),{isOpen:!1}))}getData(){var e,s;return(s=(e=this.sharedData)==null?void 0:e.payload)!=null?s:{}}onCancel(){var e,s;this.api.onCancel?(s=(e=this.api).onCancel)==null||s.call(e):this.close()}onClosed(){var e,s;this.state.isOpen||(s=(e=this.api).onClosed)==null||s.call(e)}onConfirm(){var e,s;(s=(e=this.api).onConfirm)==null||s.call(e)}onOpened(){var e,s;this.state.isOpen&&((s=(e=this.api).onOpened)==null||s.call(e))}open(){this.store.setState(e=>S(b({},e),{isOpen:!0}))}setData(e){this.sharedData.payload=e}setState(e){At(e)?this.store.setState(e):this.store.setState(s=>b(b({},s),e))}}const Be=Symbol("VBEN_MODAL_INJECT");function as(t={}){var p;const{connectedComponent:e}=t;if(e){const c=Ie({});return[O((x,{attrs:u,slots:h})=>(Ae(Be,{extendApi(C){Object.setPrototypeOf(c,C)},options:t}),Zt(c,b(b(b({},x),u),h)),()=>Ce(e,b(b({},x),u),h)),{inheritAttrs:!1,name:"VbenParentModal"}),c]}const s=De(Be,{}),a=b(b({},s.options),t);a.onOpenChange=c=>{var d,x,u;(d=t.onOpenChange)==null||d.call(t,c),(u=(x=s.options)==null?void 0:x.onOpenChange)==null||u.call(x,c)};const i=new Qt(a),n=i;n.useStore=c=>bt(i.store,c);const l=O((c,{attrs:d,slots:x})=>()=>Ce(Jt,S(b(b({},c),d),{modalApi:n}),x),{inheritAttrs:!1,name:"VbenModal"});return(p=s.extendApi)==null||p.call(s,n),[l,n]}function Zt(t,e){return g(this,null,function*(){var i;if(!e||Object.keys(e).length===0)return;yield Pe();const s=(i=t==null?void 0:t.store)==null?void 0:i.state;if(!s)return;const a=new Set(Object.keys(s));for(const n of Object.keys(e))a.has(n)&&!["class"].includes(n)&&console.warn(`[Vben Modal]: When 'connectedComponent' exists, do not set props or slots '${n}', which will increase complexity. If you need to modify the props of Modal, please use useVbenModal or api.`)})}export{Ht as V,zt as X,as as a,Pt as b,ss as u};
