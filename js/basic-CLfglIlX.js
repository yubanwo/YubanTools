var T=Object.defineProperty;var P=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var S=(o,a,e)=>a in o?T(o,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[a]=e,w=(o,a)=>{for(var e in a||(a={}))W.call(a,e)&&S(o,e,a[e]);if(P)for(var e of P(a))C.call(a,e)&&S(o,e,a[e]);return o};var g=(o,a,e)=>new Promise((l,s)=>{var c=n=>{try{t(e.next(n))}catch(i){s(i)}},f=n=>{try{t(e.throw(n))}catch(i){s(i)}},t=n=>n.done?l(n.value):Promise.resolve(n.value).then(c,f);t((e=e.apply(o,a)).next())});import{b3 as E,t as z,g as O,b4 as V,f as q,j as U,$ as Z}from"./bootstrap-eRMf25wG.js";import{O as b,a5 as j,ar as D,q as X,a1 as $,$ as F,a3 as L,aW as H,aX as J,V as M,J as k,ad as N,aj as Q,m as p,af as v,a9 as r,ag as G,ae as K,a0 as A}from"../jse/index-index-QIcGCnph.js";import{_ as Y,N as ee,a as ae,b as te}from"./layout.vue_vue_type_script_setup_true_lang-B3YlWuWB.js";import{a as oe}from"./use-modal-CTmlTAk4.js";import{_ as se}from"./avatar.vue_vue_type_script_setup_true_lang-DWiYZY0v.js";import"./theme-toggle.vue_vue_type_script_setup_true_lang-CaAvMEQJ.js";import"./TabsList.vue_vue_type_script_setup_true_lang-GYI7PEQa.js";import"./rotate-cw-11Px4Pfg.js";const m=b(),I=b(!1),_=b({advancedStyle:{colorStops:[{color:"gray",offset:0},{color:"gray",offset:1}],type:"linear"},content:"",contentType:"multi-line-text",globalAlpha:.25,gridLayoutOptions:{cols:2,gap:[20,20],matrix:[[1,0],[0,1]],rows:2},height:200,layout:"grid",rotate:30,width:160});function re(){function o(l){return g(this,null,function*(){var c;const{Watermark:s}=yield F(()=>g(this,null,function*(){const{Watermark:f}=yield import("./index.esm-onHbvng2.js");return{Watermark:f}}),[]);_.value=w(w({},_.value),l),m.value=new s(_.value),$({app:{watermark:!0}}),yield(c=m.value)==null?void 0:c.create()})}function a(l){return g(this,null,function*(){var s;m.value?(yield X(),yield(s=m.value)==null?void 0:s.changeOptions(w(w({},_.value),l))):yield o(l)})}function e(){m.value&&(m.value.destroy(),m.value=void 0),$({app:{watermark:!1}})}return I.value||(I.value=!0,j(()=>{e()})),{destroyWatermark:e,updateWatermark:a,watermark:D(m)}}const ne=L({name:"LoginExpiredModal",__name:"login-expired-modal",props:H({avatar:{default:""},zIndex:{default:0},codeLoginPath:{},forgetPasswordPath:{},loading:{type:Boolean},qrCodeLoginPath:{},registerPath:{},showCodeLogin:{type:Boolean},showForgetPassword:{type:Boolean},showQrcodeLogin:{type:Boolean},showRegister:{type:Boolean},showRememberMe:{type:Boolean},showThirdPartyLogin:{type:Boolean},subTitle:{},title:{},submitButtonText:{}},{open:{type:Boolean},openModifiers:{}}),emits:["update:open"],setup(o){const a=o,e=J(o,"open"),[l,s]=oe();M(()=>e.value,t=>{s.setState({isOpen:t})});const c=k(()=>a.zIndex||f());function f(){let t=0;return[...document.querySelectorAll("*")].forEach(i=>{const h=window.getComputedStyle(i).getPropertyValue("z-index");h&&!Number.isNaN(Number.parseInt(h))&&(t=Math.max(t,Number.parseInt(h)))}),t+1}return(t,n)=>(N(),Q("div",null,[p(r(l),{closable:!1,"close-on-click-modal":!1,"close-on-press-escape":!1,footer:!1,"fullscreen-button":!1,header:!1,"z-index":c.value,class:"border-none px-10 py-6 text-center shadow-xl sm:w-[600px] sm:rounded-2xl md:h-[unset]"},{default:v(()=>[p(r(se),{src:t.avatar,class:"mx-auto mb-6 size-20"},null,8,["src"]),p(r(E),{"show-forget-password":!1,"show-register":!1,"show-remember-me":!1,"sub-title":t.$t("authentication.loginAgainSubTitle"),title:t.$t("authentication.loginAgainTitle")},{default:v(()=>[G(t.$slots,"default")]),_:3},8,["sub-title","title"])]),_:3},8,["z-index"])]))}}),ge=L({__name:"basic",setup(o){const a=b([{avatar:"https://avatar.vercel.sh/vercel.svg?text=VB",date:"3小时前",isRead:!0,message:"描述信息描述信息描述信息",title:"收到了 14 份新周报"},{avatar:"https://avatar.vercel.sh/1",date:"刚刚",isRead:!1,message:"描述信息描述信息描述信息",title:"朱偏右 回复了你"},{avatar:"https://avatar.vercel.sh/1",date:"2024-01-01",isRead:!1,message:"描述信息描述信息描述信息",title:"曲丽丽 评论了你"},{avatar:"https://avatar.vercel.sh/satori",date:"1天前",isRead:!1,message:"描述信息描述信息描述信息",title:"代办提醒"}]),e=z(),l=O(),s=V(),{destroyWatermark:c,updateWatermark:f}=re(),t=k(()=>a.value.some(u=>!u.isRead)),n=k(()=>[{handler:()=>{U.push("/profile")},icon:"ix:user",text:Z("ui.widgets.profile")}]),i=k(()=>{var u,d;return(d=(u=e.userInfo)==null?void 0:u.avatar)!=null?d:A.app.defaultAvatar});function x(){return g(this,null,function*(){yield l.logout(!1)})}function h(){a.value=[]}function R(){a.value.forEach(u=>u.isRead=!0)}return M(()=>A.app.watermark,u=>g(this,null,function*(){var d;u?yield f({content:`${(d=e.userInfo)==null?void 0:d.username}`}):c()}),{immediate:!0}),(u,d)=>(N(),K(r(te),{onClearPreferencesAndLogout:x},{"user-dropdown":v(()=>{var y,B;return[p(r(Y),{avatar:i.value,description:(y=r(e).userInfo)==null?void 0:y.email,menus:n.value,text:(B=r(e).userInfo)==null?void 0:B.name,"tag-text":"Pro",onLogout:x},null,8,["avatar","description","menus","text"])]}),notification:v(()=>[p(r(ee),{dot:t.value,notifications:a.value,onClear:h,onMakeAll:R},null,8,["dot","notifications"])]),extra:v(()=>[p(r(ne),{open:r(s).loginExpired,"onUpdate:open":d[0]||(d[0]=y=>r(s).loginExpired=y),avatar:i.value},{default:v(()=>[p(q)]),_:1},8,["open","avatar"])]),"lock-screen":v(()=>[p(r(ae),{avatar:i.value,onToLogin:x},null,8,["avatar"])]),_:1}))}});export{ge as default};
